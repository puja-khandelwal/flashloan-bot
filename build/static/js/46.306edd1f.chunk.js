(this["webpackJsonpneed-a-web-developer-21043817"]=this["webpackJsonpneed-a-web-developer-21043817"]||[]).push([[46],{1880:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return X}));var n=t(3),r=t.n(n),l=t(27),c=t(26),i=t(24),o=t(570),s=t(79),d=t(116),u=t(576),m=t(1458),p=t(1097),b=t(1174),E=t(1267),f=t(1175),g=t(1176),x=t(1177),v=t(1),h=t.n(v),y=t(15),O=t(95),j=t(965),S=t(1749),k=t.n(S),C=t(58),w=(t(64),t(1860)),N=(t(254),t(1859)),I=t(41),P=(t(551),t(36)),B=t.n(P),A=t(62),D=Object(y.a)((function(e){return{root:{"&:nth-of-type(even)":{backgroundColor:"#e6e5e885"},"&:nth-of-type(odd)":{backgroundColor:"#ffffff"}}}}))(f.a);function F(e){var a=e.data,t=(e.classes,e.index),n=(e.setIsOpenView,e.setIsOpenEdit,e.handleEditView),i=e.handleLists,o=(Object(I.g)(),Object(v.useState)([])),d=Object(c.a)(o,2),u=(d[0],d[1],Object(v.useState)(!1)),m=Object(c.a)(u,2),p=(m[0],m[1],Object(v.useState)(!1)),b=Object(c.a)(p,2),E=b[0],f=b[1],x=function(){var e=Object(l.a)(r.a.mark((function e(a){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,B()({method:"DELETE",url:A.a.deleteSubscriptionPlan,headers:{token:sessionStorage.getItem("token")||localStorage.getItem("creatturAccessToken")},data:{subscribeId:null===a||void 0===a?void 0:a._id}});case 4:200==(t=e.sent).data.responseCode&&(C.b.success(t.data.responseMessage),i(),f(!1)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),f(!1),console.log(e.t0),e.t0.response?C.b.success(e.t0.response.data.responseMessage):C.b.success(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}();return h.a.createElement(h.a.Fragment,null,h.a.createElement(D,{key:a._id},h.a.createElement(g.a,{component:"th",scope:"row"},t+1),h.a.createElement(g.a,{align:"left"},a.name?a.name:"N/A"),h.a.createElement(g.a,{align:"left"},null===a||void 0===a?void 0:a.price),h.a.createElement(g.a,{align:"left"},null===a||void 0===a?void 0:a.months),h.a.createElement(g.a,{align:"left",style:"BLOCK"==a.status?{color:"red"}:{}},"BLOCK"==a.status?"Blocked":"Active"),h.a.createElement(g.a,{align:"left"},h.a.createElement(s.a,{display:"flex"},h.a.createElement(O.a,{container:!0,justify:"center"},h.a.createElement(s.a,{item:!0,display:"flex"},h.a.createElement(N.a,{title:"View plan details"},h.a.createElement(j.a,{style:{padding:"6px 12px"}},h.a.createElement(k.a,{onClick:function(){return n(a)},style:{fontSize:"25px",cursor:"pointer",marginRight:"5px"}}))),a.isDelete?h.a.createElement(N.a,{title:"Plan Deleted"},h.a.createElement(j.a,{style:{padding:"6px 12px"}},h.a.createElement(w.a,{style:{fontSize:"25px",cursor:"none",marginRight:"5px",color:"red"},disabled:E}))):h.a.createElement(N.a,{title:"Delete plan details"},h.a.createElement(j.a,{style:{padding:"6px 12px"}},h.a.createElement(w.a,{onClick:function(){return x(a)},style:{fontSize:"25px",cursor:"pointer",marginRight:"5px"},disabled:E})))))))))}var z=t(249),T=t(966),V=t(975),M=t(1861),q=t(1069),L=t(1056),W=t(138),R=t(65),K=t(70),_=t(329),J=Object(o.a)((function(e){return{avatorSection:{paddingLeft:"14px",marginBottom:"10px"},childSection:{position:"relative"},iconBtn:{border:"1px solid #222",position:"absolute",right:"-17px",top:"57%",padding:"12px 12px 7px !important"},template:{display:" flex",alignItems:"center",border:"1px solid #b8bcb7",width:"fit-content",padding:"10px",borderRadius:"10px",margin:" 10px 6px"}}})),U={planname:"",price:"",time:""},G=L.a().shape({planname:L.c().required("Plan name is required"),price:L.c().required("Plan price is required"),time:L.c().required("Duration is required")});function H(e){var a=e.setIsOpenEdit,t=e.type,n=e.data,i=J(),o=Object(v.useState)(!1),p=Object(c.a)(o,2),b=p[0],E=p[1],f=Object(R.c)(),g=(f.activate,f.account),x=(f.chainId,f.library,f.deactivate,Object(v.useContext)(K.a)),y=Object(v.useState)(""),S=Object(c.a)(y,2),k=(S[0],S[1],Object(v.useState)("")),w=Object(c.a)(k,2),N=(w[0],w[1],Object(v.useState)("")),I=Object(c.a)(N,2),P=I[0],D=I[1],F=function(){E(!0),x.connectWallet()},L=function(){var e=Object(l.a)(r.a.mark((function e(n){var l,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("values----",n),D(!0),e.prev=2,"add"!=t){e.next=8;break}return e.next=6,B()({method:"post",url:A.a.addSubscriptionPlan,headers:{token:sessionStorage.getItem("token")||localStorage.getItem("creatturAccessToken")},params:{name:n.planname,price:n.price,months:n.time}});case 6:200==(l=e.sent).data.responseCode&&(D(!1),C.b.success(l.data.responseMessage),a(!1));case 8:if("edit"!=t){e.next=13;break}return e.next=11,B()({method:"post",url:A.a.addSubscriptionPlan,headers:{token:sessionStorage.getItem("token")||localStorage.getItem("creatturAccessToken")},params:{name:n.planname,price:n.price,months:n.time}});case 11:200==(c=e.sent).data.responseCode&&(D(!1),C.b.success(c.data.responseMessage),a(!1));case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),D(!1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(a){return e.apply(this,arguments)}}();return console.log("viewData-----\x3e",n),h.a.createElement(z.a,{elevation:1,style:{padding:"20px"}},h.a.createElement(s.a,{className:"mainContainer"},b&&h.a.createElement(_.a,{open:b,handleClose:function(){E(!1)}}),h.a.createElement(s.a,{className:"arrowSection",style:{display:"flex",alignItems:"center"}},h.a.createElement(j.a,{onClick:function(){return a(!1)},style:{padding:"0px"}},h.a.createElement(M.a,null)),"\xa0\xa0","add"===t?h.a.createElement(d.a,{variant:"h4",style:{color:"#0c0d31"}},"Add Plan"):h.a.createElement(d.a,{variant:"h4",style:{color:"#0c0d31"}},"View Plan")),h.a.createElement(s.a,{mt:1,mb:3},h.a.createElement(m.a,null)),h.a.createElement(q.b,{onSubmit:function(e){return L(e)},initialValues:U,validationSchema:G},(function(e){var a=e.errors,r=e.handleBlur,l=e.handleChange,c=(e.handleSubmit,e.touched),o=e.values;e.setFieldValue;return h.a.createElement(q.a,null,h.a.createElement(O.a,{container:!0,spacing:3},h.a.createElement(O.a,{item:!0,lg:6,md:6,sm:12,xs:12},h.a.createElement(s.a,null,h.a.createElement("label",{style:{color:"rgb(12, 13, 49)"}},"Plan Name"),h.a.createElement(s.a,{className:"labelAll",mt:1},h.a.createElement(T.a,{placeholder:"Enter plan name",variant:"outlined",fullWidth:!0,name:"planname",value:o.planname||n.name,error:Boolean(c.planname&&a.planname),onBlur:r,onChange:l,disabled:"add"!=t})),h.a.createElement(V.a,{error:!0,style:{margin:"0px",fontSize:"12px"}},c.planname&&a.planname))),h.a.createElement(O.a,{item:!0,lg:6,md:6,sm:12,xs:12},h.a.createElement(s.a,null,h.a.createElement("label",{style:{color:"rgb(12, 13, 49)"}},"Plan Price"),h.a.createElement(s.a,{className:"labelAll numberTextField",mt:1},h.a.createElement(T.a,{placeholder:"Enter price",variant:"outlined",fullWidth:!0,name:"price",type:"number",onKeyPress:function(e){"-"!==(null===e||void 0===e?void 0:e.key)&&"+"!==(null===e||void 0===e?void 0:e.key)&&"="!==(null===e||void 0===e?void 0:e.key)||e.preventDefault()},value:o.price||n.price,error:Boolean(c.price&&a.price),onBlur:r,onChange:l,disabled:"add"!=t})),h.a.createElement(V.a,{error:!0,style:{margin:"0px",fontSize:"12px"}},c.price&&a.price))),h.a.createElement(O.a,{item:!0,lg:6,md:6,sm:12,xs:12},h.a.createElement(s.a,null,h.a.createElement("label",{style:{color:"rgb(12, 13, 49)"}},"Duration (in months)"),h.a.createElement(s.a,{className:"labelAll numberTextField",mt:1},h.a.createElement(T.a,{placeholder:"Enter time",variant:"outlined",fullWidth:!0,name:"time",type:"number",onKeyPress:function(e){"-"!==(null===e||void 0===e?void 0:e.key)&&"+"!==(null===e||void 0===e?void 0:e.key)&&"="!==(null===e||void 0===e?void 0:e.key)||e.preventDefault()},value:o.time||n.months,disabled:"add"!=t,error:Boolean(c.time&&a.time),onBlur:r,onChange:l})),h.a.createElement(V.a,{error:!0,style:{margin:"0px",fontSize:"12px"}},c.time&&a.time))),h.a.createElement(O.a,{xs:12},g?h.a.createElement(s.a,{className:i.avatorSection},"add"==t&&h.a.createElement(s.a,null,h.a.createElement(u.a,{type:"submit",variant:"contained",disabled:P,color:"primary"},"Update ",P&&h.a.createElement(W.a,null)))):h.a.createElement(u.a,{variant:"contained",color:"primary",fullWidth:!0,className:i.connetwallet,onClick:F},"Connect Wallet"))))}))))}var Q=Object(o.a)((function(e){var a;return{root:(a={background:"#191c24",boxShadow:"0 8px 32px 0 rgb(31 38 135 / 37%)",boxSizing:"border-box",padding:"20px",backdropFilter:"blur(5.5px)",borderRadius:"10px",border:"1px solid rgba( 255, 255, 255, 0.18 )"},Object(i.a)(a,e.breakpoints.down("sm"),{padding:"0px 20px 0px 20px"}),Object(i.a)(a,"& h4",{color:"#14133b",fontSize:"22px"}),a),addFarner:{display:"flex",justifyContent:"space-between",alignItems:"center","& h4":{color:"#14133b"}},mainBox:{margin:"50px 0px","& .MuiTableCell-root":{height:"40px",padding:"0 10px"},"& .MuiTableCell-body":{height:"56px",padding:"0 10px"}}}}));function X(){var e=Q(),a=Object(R.c)(),t=(a.activate,a.account,a.chainId,a.library,a.deactivate,Object(v.useContext)(K.a),Object(v.useState)(!0)),n=Object(c.a)(t,2),i=n[0],o=n[1],y=Object(v.useState)(!1),O=Object(c.a)(y,2),j=O[0],S=O[1],k=Object(v.useState)(!1),C=Object(c.a)(k,2),w=C[0],N=C[1],I=Object(v.useState)(!1),P=Object(c.a)(I,2),D=P[0],z=P[1],T=Object(v.useState)(""),V=Object(c.a)(T,2),M=V[0],q=V[1],L=Object(v.useState)([]),_=Object(c.a)(L,2),J=_[0],U=_[1],G=function(){var e=Object(l.a)(r.a.mark((function e(a){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.prev=1,e.next=4,B()({method:"get",url:A.a.viewSubscriptionPlan,params:{subscribeId:a._id}});case 4:200==(t=e.sent).data.responseCode&&(q(t.data.result),N(!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),X=function(){var e=Object(l.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B()({method:"get",url:A.a.listSubscriptionPlan});case 3:200==(a=e.sent).data.responseCode&&(U(a.data.result),o(!1)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),o(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(v.useEffect)((function(){X()}),[]),h.a.createElement(h.a.Fragment,null,h.a.createElement(s.a,{className:e.mainBox},!j&&!w&&!D&&h.a.createElement(s.a,{className:"mainContainer"},h.a.createElement(s.a,{className:e.addFarner,mb:2},h.a.createElement(d.a,{variant:"h4"},"Plan Mangement"),h.a.createElement(u.a,{onClick:function(){return z(!0)},variant:"contained",color:"primary"},"Add Plan")),h.a.createElement(s.a,{pt:2,pb:2},h.a.createElement(m.a,null)),h.a.createElement(s.a,{mt:2},h.a.createElement(p.a,null,h.a.createElement(b.a,{className:e.table,"aria-label":"simple table"},h.a.createElement(E.a,null,h.a.createElement(f.a,{style:{backgroundColor:"rgb(8, 86, 204)"}},h.a.createElement(g.a,{className:"tableCell",align:"left"},"Sr.No"),h.a.createElement(g.a,{className:"tableCell"},"Plan Name"),h.a.createElement(g.a,{className:"tableCell",align:"left"},"Price"),h.a.createElement(g.a,{className:"tableCell",align:"left"},"Duration"),h.a.createElement(g.a,{className:"tableCell",align:"left"},"Status"),h.a.createElement(g.a,{className:"tableCell",align:"center"},"Action"))),h.a.createElement(x.a,null,J.length>0&&h.a.createElement(h.a.Fragment,null,J&&J.map((function(a,t){return h.a.createElement(F,{data:a,classes:e,index:t,setIsOpenView:function(e){return S(e)},setIsOpenEdit:function(e){return N(e)},handleEditView:function(e){return G(e)},handleLists:function(){return X()}})}))),0==J&&!i&&h.a.createElement("span",null,"No Data Found"),0==J&&i&&h.a.createElement(W.a,null))))))),D&&h.a.createElement(H,{setIsOpenEdit:function(e){return z(e)},type:"add",data:""}),w&&h.a.createElement(H,{setIsOpenEdit:function(e){return N(e)},type:"edit",data:M}),j&&h.a.createElement(H,{setIsOpenEdit:function(e){return S(e)},data:M}))}}}]);
//# sourceMappingURL=46.306edd1f.chunk.js.map